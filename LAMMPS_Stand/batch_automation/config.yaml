# ===============================
# LAMMPS Input Configuration File
# ===============================
# This YAML defines all variables needed to generate a LAMMPS input script
# for electrolyte diffusion simulations.
# ===============================

# --------- File and Naming Parameters ---------
system_file: system.data            # Input data file containing system configuration
settings_name: settings.lmp        # Settings file that defines pair_coeff, bond_coeff, etc.
prefix: run                   # Prefix for naming all outputs (log, dumps, data files)
lammps_input: run.in    # Name of the LAMMPS input file to be generated

# --------- Random Seed ---------
vseed: 4928459                     # Random seed for velocity generation (for reproducibility)

# --------- System Initialization ---------
units: real
atom_style: full
boundary: p p p                     # Periodic boundary conditions in all dimensions
bond_style: harmonic              # Bond potential type
angle_style: harmonic             # Angle potential type
dihedral_style: opls
improper_style: cvff              # Improper potential type
kspace_style: pppm 1.0e-4            # K-space solver for long-range electrostatics
pair_style: lj/cut/coul/long 10.0   # Pair potential style with cutoff
pair_modify: mix arithmetic       # Mixing rule for pair potentials
special_bonds: "lj/coul 0.0 0.0 0.5"

# --------- Neighbor Settings ---------
neighbor_bin: 2.0                  # Neighbor list skin distance
neigh_modify: every 1 delay 0 check yes # Neighbor list update settings
neighbor_bin_npt: 2.0


# --------- Simulation Size ---------
rescale: 0.35                      # Scaling factor for initial box size adjustment
replicate: 3                      # Number of times to replicate the system in each dimension

# --------- Thermo Output and Dump Frequencies ---------
thermo_freq: 5000                   # Frequency (steps) to output thermo data to log file
avg_freq: 1000                      # Frequency of averaging thermo quantities (fix ave/time)
dump4avg: 1000                      # Number of samples per average interval (fix ave/time)
coords_freq: 10000                  # Frequency (steps) to write coordinate dumps (lammpstrj)

# --------- MSD Parameters ---------
msd_freq: 100
msd_ave: 10
msd_tot: 1000
msd_flush: true        

# --------- RDF Parameters ---------
rdf_bins: 200
rdf_freq: 10000
rdf_ave: 5
rdf_tot: 50000

# --------- RDF Type IDs ---------
rdf_type_1: 2                      # Type ID for first species in RDF calculation
rdf_type_2: 3                      # Type ID for second species in RDF calculation

# --------- Relaxation Parameters ---------
nSteps_relax: 25000                 # Steps for initial unoverlap (nve/limit) and minimization
relax_timestep: 0.25              # Timestep (fs) for the relaxation phase

# --------- Energy Minimization Parameters ---------
min_style: cg            # Energy minimization style (conjugate gradient)
min_etol: 1.0e-3       # Energy tolerance (kcal/mol)
min_ftol: 1.0e-5       # Force tolerance (kcal/mol/Å)
min_maxiter: 10000     # Max iterations
min_maxeval: 50000     # Max force evaluations

# --------- Thawing Parameters ---------
thawing_steps: 250000       # Number of steps for NVT thawing
thawing_tstart: 10.0       # Starting temperature (K)
thawing_tstop: 300.0       # Final temperature (K)
thawing_tdamp: 100.0       # Damping parameter (fs)
thawing_tdamp_steps: 400

# --------- Equilibration Parameters ---------
press0_equil: 50.0                # Starting pressure for NPT equilibration (atm)
pressf_equil: 1.0               # Final target pressure for NPT equilibration (atm)
temp0_equil: 300.0              # Starting temperature for NPT equilibration (K)
tempf_equil: 300.0               # Final target temperature for NPT equilibration (K)
nSteps_equil: 2500000            # Steps for NPT equilibration
equil_timestep: 0.25              # Timestep (fs) for NPT equilibration
equil_tdamp_steps: 200         #  Tdamp ≈ 200 time steps
equil_pdamp_steps: 6000         #  Pdamp ≈ 2000 time steps
barostat_drag: 2.0              #  extra damping to prevent oscillations

# ---------Production Parameters ---------
prod_timestep: 0.5               # Timestep (fs) for the production NVE diffusion run
nSteps_prod: 10000000        # Steps for production NVE diffusion run
linear_momentum: 10000  # Linear momentum removal frequency (steps)
production_neighbor_bin: 3.0 
# 1,000,000 steps @ 0.5 = 500 ps
# Recommended production (25 ns) = 50,000,000 steps @ 0.5 fs

# ===============================
# End of Configuration File
# ===============================
